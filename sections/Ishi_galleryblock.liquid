<div class="ishigalleryblocks page-width">
  	<div class="gallery-content">
    <div class="gallery-block">
      {% if section.settings.title1 != blank or section.settings.subtitle != blank %}
        <div class="section-header center">
          {% if section.settings.subtitle != blank %}
            <div class="sub-title {{ settings.subtitlefont }}">{{ section.settings.subtitle | escape }}</div>
          {% endif %}
          {% if section.settings.title1 != blank %}
            <h2 class="home-title">{{ section.settings.title1 | escape }}</h2>
          {% endif %}
        </div>
      {% endif %}
      {% if section.blocks.size > 0 %}
        <div class="ishigalleryblocks-carousel-{{section.id}} ishigalleryblocks-carousel slider-with-options owl-carousel gallery-item" 
           data-small="2" 
           data-mobile="3" 
           data-tablet="3" 
           data-laptop="3"  
           data-desktop="4"
           data-autoplay="true"
           data-nav="false"
           data-dots="false"
           data-loop="true"
           data-autoplay="true"
           data-rewind="true"
           data-margin="30">
          {% for block in section.blocks %}
          <div class="ishigalleryblocks-container">
            <div class="image-container galley-image" {{ block.shopify_attributes }}>
              <a  {% if block.settings.link != blank %}href="{{ block.settings.link }}"{% else %}role="link" aria-disabled="true"{% endif %}>
              {% if block.settings.image != blank %}
                 <img
                           class="lazyload"
                           data-src="{{ block.settings.image | img_url: '320x320'}}"
                  			alt="Gallery Image">
            {% else %}
              {{ 'image' | placeholder_svg_tag: 'ishi-placeholder' }}
              {% endif %}
                  <div class="imageoverlay">
                    <div class="icon">
                      <div class="icon-square"><i class="fa fa-mail-forward"></i></div>
                    </div>
                  </div>
              </a>
            </div>
          </div>
         {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</div>



<style type="text/css">
  #shopify-section-{{ section.id }} {
    margin-bottom: {{ section.settings.section_bottom_spacing_desktop }}px;
  }

  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} {
      margin-bottom: {{ section.settings.section_bottom_spacing_mobile }}px;
    }
  }
</style>

{% schema %}
  {
    "name": "Gallery Block",
	"tag": "section",
    "class": "ishi-gallery-block",
    "settings": [
      {
          "type": "text",
          "id": "subtitle",
          "label": "Sub Title",
          "default": "Follow New"
      },
      {
        "type": "text",
        "id": "title1",
        "label": "Main Title", 
        "default": "Our Beautiful Gallery"
      },
	  {
        "type": "header",
        "content": "Section Bottom Spacing"
      },
      {
        "type": "range",
        "id": "section_bottom_spacing_desktop",
        "label": "Desktop",
        "min": 0,
        "max": 70,
        "step": 10,
        "default": 70
      },
      {
        "type": "range",
        "id": "section_bottom_spacing_mobile",
        "label": "Mobile",
        "min": 0,
        "max": 50,
        "step": 10,
        "default": 30
      }
    ],
    "blocks": [
      {
        "type": "gallery_image",
        "name": "Gallery",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image",
            "info": "Size: 270px X 270px"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Ishi Gallery Block"
      }
    ]
  }
{% endschema %}



